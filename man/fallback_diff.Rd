% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{fallback_diff}
\alias{fallback_diff}
\title{Fallback Absolute Difference Between Two Vectors}
\usage{
fallback_diff(col1, col2, minimum = 0)
}
\arguments{
\item{col1}{Numeric vector. First input column.}

\item{col2}{Numeric vector. Second input column.}

\item{minimum}{Numeric scalar. Minimum allowable value for the result
(default is \code{0}).}
}
\value{
A numeric vector with the same length as the inputs. Each element is:
\itemize{
\item the absolute difference between \code{col1} and \code{col2}, if both are non-missing,
\item the non-missing value if only one is present,
\item \code{NA_real_} if both values are missing.
}
In all cases, the result is constrained to be no less than \code{minimum}.
}
\description{
Computes the difference between two numeric vectors element-wise.
If both values are present, returns \code{pmax(abs(col1 - col2), minimum)}.
If only one value is present, returns the non-missing value or \code{minimum},
whichever is greater. If both are missing, returns \code{NA_real_}.
}
\details{
This function is useful when calculating differences that must be non-negative
and when missingness should fall back to a non-missing value rather than return
\code{NA}.
}
\examples{
fallback_diff(5, 3)        # 2
fallback_diff(NA, 4)       # 4
fallback_diff(7, NA)       # 7
fallback_diff(4, 9)        # 0
fallback_diff(NA, NA)      # NA

}
