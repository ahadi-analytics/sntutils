% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/build_dictionary.R
\name{build_dictionary}
\alias{build_dictionary}
\title{Build a compact data dictionary}
\usage{
build_dictionary(
  data,
  labels_path = getOption("snt.labels_en_path", NULL),
  language = NULL,
  translate_fun = NULL,
  max_levels = 50L,
  n_examples = 3L
)
}
\arguments{
\item{data}{A data.frame/tibble; sf columns are detected.}

\item{labels_path}{Optional CSV with columns \verb{name,label} used to
override/add English labels. If missing, only internal defaults are
used.}

\item{language}{Optional ISO code (e.g., "fr"). If set and
\code{translate_fun} is provided, a \verb{label_<language>} column is added.}

\item{translate_fun}{Optional function(text, target_language) -> char.
Used only when \code{language} is non-NULL and not "en".}

\item{max_levels}{Max factor levels to summarize in notes (default 50).}

\item{n_examples}{Number of example values to show (default 3).}
}
\value{
A tibble with at least:
\itemize{
\item variable, type, label_english
\item n, n_missing, pct_missing, n_unique
\item example_values, min, max, notes
If \code{language} is set and translated, also \verb{label_<language>}.
}
}
\description{
Create a tidy dictionary from a data.frame (sf ok). Infers a simple
type per column, adds English labels (merged with an on-disk CSV map
when available), and reports small stats: missing \%, unique count,
a few example values, and min/max for numeric/date/datetime. Can add
one translated label column via a user function.
}
\details{
English labels are formed by merging internal defaults with the CSV
at \code{labels_path}. CSV entries win on name conflicts. Unknown columns
fall back to their original names.
}
\examples{
dd <- build_dictionary(iris)
head(dd[c("variable", "type", "label_english")])
}
