% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/reporting_rate_plot.R
\name{reporting_rate_plot}
\alias{reporting_rate_plot}
\title{Plot Missing data or Reporting Rate over time}
\usage{
reporting_rate_plot(
  data,
  x_var,
  y_var = NULL,
  vars_of_interest = NULL,
  hf_col = NULL,
  use_reprate = TRUE,
  full_range = TRUE,
  target_language = "en",
  source_language = "en",
  lang_cache_path = tempdir(),
  save_plot = FALSE,
  plot_path = NULL,
  compress_image = TRUE,
  image_overwrite = TRUE,
  compression_speed = 1,
  compression_verbose = TRUE,
  y_axis_label = NULL
)
}
\arguments{
\item{data}{A data frame containing the data to be visualized}

\item{x_var}{A character string specifying the time variable in 'data'
(e.g., "year", "month"). Must be provided.}

\item{y_var}{Optional grouping variable name (if any)}

\item{vars_of_interest}{An optional character vector specifying the variables
to be visualized in 'data'. If NULL, all variables except 'x_var' and
'y_var' will be used.}

\item{hf_col}{Facility variable name if needed}

\item{use_reprate}{A logical value. If TRUE, the reporting rate is
visualized; otherwise, the proportion of missing data is visualized.
Defaults to TRUE}

\item{full_range}{A logical value. If TRUE, the fill scale will use the full
range from 0 to 100. If FALSE, the fill scale will use the range of values
present in the data. Defaults to TRUE.}

\item{target_language}{A character string specifying the language for plot
labels. Defaults to "en" (English). Use ISO 639-1 language codes.}

\item{source_language}{Source language code. If NULL, auto-detection is used.
Defaults to NULL.}

\item{lang_cache_path}{Path to directory for storing translation cache.
Defaults to tempdir().}

\item{save_plot}{A logical value. If TRUE, the plot will be saved to the
specified path. Defaults to FALSE.}

\item{plot_path}{A character string specifying the path where the plot should
be saved. Required if save_plot is TRUE.}

\item{compress_image}{Logical. If TRUE, will compress the saved plot.
Defaults to TRUE.}

\item{image_overwrite}{Logical. If TRUE, will overwrite existing files.
Defaults to TRUE.}

\item{compression_speed}{Integer. Speed/quality trade-off from 1
(brute-force) to 10 (fastest). Default is 1.}

\item{compression_verbose}{Logical. Controls output verbosity.
FALSE = silent, TRUE = verbose. Defaults to TRUE.}

\item{y_axis_label}{Optional character string for y-axis label. If NULL,
defaults to y_var name or "Variable" for variable scenario.}
}
\value{
A ggplot2 object
}
\description{
This function visualizes the proportion of missing data or reporting rate for
specified variables in a dataset. It creates a tile plot where the x-axis can
represent any categorical time such as time (e.g., year, month). The function
can handle three different scenarios:
\enumerate{
\item District-level analysis with specified variables
\item Variable-level analysis without district grouping
\item Facility-level analysis
}
}
\examples{
# Sample data
hf_data <- data.frame(
  month = rep(c("Jan", "Feb", "Mar"), each = 10),
  district = rep(c("North", "South"), each = 5, times = 3),
  facility_id = rep(1:5, times = 6),
  malaria = c(
    10, 0, 15, NA, 8, 12, 0, NA, 7, 9,
    11, 0, 14, 6, NA, 13, 8, 10, 0, 12,
    9, 7, 0, 11, 14, 8, NA, 12, 10, 15
  ),
  pneumonia = c(
    5, 0, NA, 7, 3, 6, 0, 4, NA, 2,
    8, 0, 6, NA, 4, 7, 3, 0, 5, 6,
    4, 0, 7, 5, NA, 6, 0, 8, 4, 3
  )
)

# Scenario 1: District-level analysis - reporting rate by district and month
reporting_rate_plot(
  data = hf_data,
  x_var = "month",
  y_var = "district",
  vars_of_interest = c("malaria", "pneumonia")
)

# Scenario 2: Variable-level analysis - missing rate by variable over time
reporting_rate_plot(
  data = hf_data,
  x_var = "month",
  vars_of_interest = c("malaria", "pneumonia"),
  use_reprate = FALSE
)

# Scenario 3: Facility-level analysis - reporting rate by facility
reporting_rate_plot(
  data = hf_data,
  x_var = "month",
  y_var = "district",
  vars_of_interest = "malaria",
  hf_col = "facility_id"
)
}
