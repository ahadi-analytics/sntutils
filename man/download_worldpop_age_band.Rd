% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/download_worldpop_rasters.R
\name{download_worldpop_age_band}
\alias{download_worldpop_age_band}
\title{Download WorldPop Population Raster Data for Specific Age Bands}
\usage{
download_worldpop_age_band(
  country_codes,
  years,
  age_range = c(1, 9),
  resolution = "1km",
  out_dir = "."
)
}
\arguments{
\item{country_codes}{Character vector. ISO3 country codes (e.g., "TUN", "BDI")}

\item{years}{Numeric vector. Years for which to download data (2000-2030)}

\item{age_range}{Numeric vector of length 2 specifying the lower and upper
age range bounds (e.g., c(1, 9) for ages 1-9). Default: c(1, 9)}

\item{resolution}{Character. Either "1km" (default) or "100m". The 100m
resolution is only available for years >= 2015 (R2024B dataset).}

\item{out_dir}{Character string. Directory where downloaded files will be
saved. Default: "."}
}
\value{
No return value. Files saved to output directory with pattern:
\verb{\{iso3\}_total_\{lower\}_\{upper\}_\{year\}.tif}
}
\description{
Downloads and processes WorldPop population raster data for specified age
bands and years. Combines male and female population data for the requested
age range. Automatically selects legacy (2000-2014) or R2024B (2015-2030)
dataset based on year.
}
\details{
\subsection{Data Source}{

The function automatically selects the appropriate dataset:
\subsection{Legacy Dataset (years < 2015)}{
\itemize{
\item URL: https://data.worldpop.org/GIS/AgeSex_structures/Global_2000_2020_1km/
\item Resolution: 1km only
\item Files: \verb{\{iso3\}_\{sex\}_\{code\}_\{year\}_1km.tif}
}
}

\subsection{R2024B Dataset (years >= 2015)}{
\itemize{
\item URL: https://data.worldpop.org/GIS/AgeSex_structures/Global_2015_2030/R2024B/
\item Resolution: 1km or 100m
\item Files: \verb{\{iso3\}_\{sex\}_\{code\}_\{year\}_UC_\{res\}_UA_v1.tif} (R2024B removed locally)
}
}

}

\subsection{Band Combination Logic}{

If the exact age range is not covered by a single WorldPop band, the function
combines adjacent bands. For example:
\itemize{
\item Requesting ages 2-9 will combine bands 1-4 and 5-9
\item Requesting ages 0-10 will combine bands 0-1, 1-4, 5-9, and 10-14
}
}

\subsection{Age Bands}{

Available bands: 0, 1-4, 5-9, 10-14, 15-19, 20-24, 25-29, 30-34, 35-39,
40-44, 45-49, 50-54, 55-59, 60-64, 65-69, 70-74, 75-79, 80+
}
}
\examples{
\dontrun{
# Download age 1-9 data for Burundi
download_worldpop_age_band(
  country_codes = "BDI",
  years = 2020:2024,
  age_range = c(1, 9),
  out_dir = "data/worldpop"
)
}
}
