% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/process_rasters.R
\name{normalize_raster_by_polygon}
\alias{normalize_raster_by_polygon}
\title{Normalize Raster Values by Polygon Regions}
\usage{
normalize_raster_by_polygon(raster, shp, id_col)
}
\arguments{
\item{raster}{A SpatRaster object containing the values to be normalized}

\item{shp}{A spatial vector (SpatVector) containing the polygon regions}

\item{id_col}{Character string specifying the column name in shp that contains
the region identifiers}
}
\value{
A SpatRaster object with normalized values where the sum within each
polygon region equals 1
}
\description{
This function normalizes raster values within each polygon region by dividing
the values by the total sum for that region. This creates proportional values
that sum to 1 within each polygon.
}
\details{
The function processes each polygon region separately by:
\enumerate{
\item Masking the raster to the region boundaries
\item Calculating the total sum for the region
\item Dividing all values in that region by the total
The results are then mosaicked back together into a single raster.
}
}
\examples{
\dontrun{
normalized <- normalize_raster_by_polygon(
  raster = population_raster,
  shp = admin_boundaries,
  id_col = "region_id"
)
}
}
