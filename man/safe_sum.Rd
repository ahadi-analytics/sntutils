% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{safe_sum}
\alias{safe_sum}
\title{Row-safe sum for grouped aggregation}
\usage{
safe_sum(x)
}
\arguments{
\item{x}{A numeric vector.}
}
\value{
A single numeric value: \code{NA_real_} if all values in \code{x} are missing,
otherwise the numeric sum with \code{NA}s ignored.
}
\description{
Returns \code{NA_real_} if all values are \code{NA}; otherwise returns the sum with
missing values treated as zero.
}
\details{
This is useful in \code{dplyr::summarise()} calls where you want a sum that
respects full-missing groups by yielding \code{NA_real_}, and otherwise sums while
ignoring \code{NA}s.
}
\examples{
# All missing -> NA
sntutils:::`safe_sum`(c(NA, NA))

# Mixed missing -> sum of non-missing
sntutils:::`safe_sum`(c(1, NA, 2))

# No missing -> normal sum
sntutils:::`safe_sum`(c(1, 2, 3))

}
\keyword{internal}
