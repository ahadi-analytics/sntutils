% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/validate_facility_data.R
\name{validate_facility_data}
\alias{validate_facility_data}
\title{Validate health facility data comprehensively}
\usage{
validate_facility_data(
  data,
  id_col = "record_id",
  facility_col = "hf_id",
  date_col = "date",
  yearmon_col = "yearmon",
  year_col = "year",
  month_col = "month",
  admin_cols = c("adm0", "adm1", "adm2", "adm3"),
  admin_guid_cols = c("adm0_guid", "adm1_guid", "adm2_guid", "adm3_guid"),
  core_id_cols = NULL,
  indicators = NULL,
  consistency_pairs = NULL,
  check_future_dates = TRUE,
  check_duplicates = TRUE,
  check_outliers = TRUE,
  outlier_methods = c("iqr", "median", "mean"),
  iqr_multiplier = 1.5,
  save_results = FALSE,
  output_path = NULL,
  output_name = "validation_routine_data_results",
  output_formats = c("xlsx", "rds"),
  verbose = TRUE,
  target_language = "en",
  source_language = "en",
  lang_cache_path = base::tempdir()
)
}
\arguments{
\item{data}{data.frame. Routine facility dataset.}

\item{id_col}{character. Unique record id. Default "record_id".}

\item{facility_col}{character. Facility id. Default "hf_id".}

\item{date_col}{character. Date column. Default "date".}

\item{yearmon_col}{character. Year-month col. Default "yearmon".}

\item{year_col}{character. Year col. Default "year".}

\item{month_col}{character. Month col. Default "month".}

\item{admin_cols}{character. Admin columns (adm0..adm3). Default
c("adm0","adm1","adm2","adm3").}

\item{admin_guid_cols}{character. Admin GUID columns. Default
c("adm0_guid","adm1_guid","adm2_guid","adm3_guid").}

\item{core_id_cols}{character|NULL. If NULL, uses the set above.}

\item{indicators}{character|NULL. Numeric indicators to validate. If NULL,
auto-detect from numeric columns after excluding core ids.}

\item{consistency_pairs}{list|NULL. Each element is list(input=, output=).
If NULL, defaults generated from common malaria cascade rules.}

\item{check_future_dates}{logical. Default TRUE.}

\item{check_duplicates}{logical. Default TRUE.}

\item{check_outliers}{logical. Default TRUE.}

\item{outlier_methods}{character. Any of c("iqr","median","mean").}

\item{iqr_multiplier}{numeric. Default 1.5.}

\item{save_results}{logical. Save outputs. Default FALSE.}

\item{output_path}{character|NULL. Required if save_results.}

\item{output_name}{character. Base output name. Default
"validation_routine_data_results".}

\item{output_formats}{character. Any of c("xlsx","rds"). Default
c("xlsx","rds").}

\item{verbose}{logical. CLI messages. Default TRUE.}

\item{target_language}{character. ISO-639-1. Default "en".}

\item{source_language}{character. ISO-639-1. Default "en".}

\item{lang_cache_path}{character. Path for translation cache. Default
base::tempdir().}
}
\value{
invisible named list with elements:
Summary, Missing values, Duplicate records, Future dates,
Consistency failures, Consistency details, Outliers
}
\description{
Orchestrates a suite of validation checks on routine HF data. It standardizes
column resolution, selects indicators, runs missing/duplicate/future/logic/
outlier checks, compiles a summary, and optionally translates and saves.
}
\examples{
\dontrun{
validate_facility_data(
  data = dhis2_data,
  indicators = c("conf","test","susp","maltreat")
)
}
}
